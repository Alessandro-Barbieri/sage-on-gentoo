--- sage-doctest.orig	2011-04-15 10:41:41.934525150 +1200
+++ sage-doctest	2011-04-15 10:42:32.274525014 +1200
@@ -419,6 +419,7 @@
     s += """
 def warning_function(f):
     import warnings
+    warnings.resetwarnings()
 
     def doctest_showwarning(message, category, filename, lineno, file=f, line=None):
         try:
