--- src/language/init.c.orig	2010-07-03 22:22:44.246699126 +1200
+++ src/language/init.c	2010-07-03 22:23:20.038695201 +1200
@@ -19,6 +19,7 @@
 /*                                                                 */
 /*******************************************************************/
 #include <string.h>
+#include <stdlib.h>
 #include "pari.h"
 #include "paripriv.h"
 #include "anal.h"
@@ -684,7 +685,9 @@
 static void
 pari_exit(void)
 {
-  fprintferr("  ***   Error in the PARI system. End of program.\n");
+  
+	abort();
+	fprintferr("  ***   Error in the PARI system. End of program.\n");
   exit(1);
 }
 
--- src/kernel/gmp/mp.c.orig	2010-06-04 02:42:34.000000000 +1200
+++ src/kernel/gmp/mp.c	2010-07-03 22:23:30.498695486 +1200
@@ -56,7 +56,7 @@
 int pari_kernel_init(void)
 {
   /* Use pari_malloc instead of malloc */
-  mp_set_memory_functions((void *(*)(size_t)) pari_malloc, gmp_realloc, gmp_free);
+  return 0; mp_set_memory_functions((void *(*)(size_t)) pari_malloc, gmp_realloc, gmp_free);
   return 0;
 }
 
